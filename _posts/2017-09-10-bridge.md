---
layout: post
published: true
title: Bridge桥接模式
---
# Bridge桥接模式

桥接模式是用于“把抽象和实现分开，这样它们就能独立变化”。 桥接模式使用了封装、聚合，可以用继承将不同的功能拆分为不同的类。

桥接模式是一种结构型模式，它主要应对的是：由于实际的需要，某个类具有两个或两个以上的维度变化，如果只是用继承将无法实现这种需要，或者使得设计变得相当臃肿。

桥接模式的做法是把变化部分抽象出来，使变化部分与主类分离开来，从而将多个维度的变化彻底分离。最后，提供一个管理类来组合不同维度上的变化，通过这种组合来满足业务的需要。

## 桥接模式Java示例代码

首先定义电视机的接口：ITV

    public interface ITV {
        public void on();
        public void off();
        public void switchChannel(int channel);
    }
    
实现三星的 ITV 接口。

    public class SamsungTV implements ITV {
        @Override
        public void on() {
            System.out.println("Samsung is turned on.");
        }

        @Override
        public void off() {
            System.out.println("Samsung is turned off.");
        }

        @Override
        public void switchChannel(int channel) {
            System.out.println("Samsung: channel - " + channel);
        }
    }
    
再实现索尼的ITV接口。

    public class SonyTV implements ITV {

        @Override
        public void on() {
            System.out.println("Sony is turned on.");
        }

        @Override
        public void off() {
            System.out.println("Sony is turned off.");
        }

        @Override
        public void switchChannel(int channel) {
            System.out.println("Sony: channel - " + channel);
        }
    }
    
遥控器要包含对TV的引用。

    public abstract class AbstractRemoteControl {
        /**
         * @uml.property  name="tv"
         * @uml.associationEnd  
         */
        private ITV tv;

        public AbstractRemoteControl(ITV tv){
            this.tv = tv;
        }

        public void turnOn(){
            tv.on();
        }

        public void turnOff(){
            tv.off();
        }

        public void setChannel(int channel){
            tv.switchChannel(channel);
        }
    }
    
定义遥控器的具体类。

    public class LogitechRemoteControl extends AbstractRemoteControl {

        public LogitechRemoteControl(ITV tv) {
            super(tv);
        }

        public void setChannelKeyboard(int channel){
            setChannel(channel);
            System.out.println("Logitech use keyword to set channel.");
        }
    }

    public class Main {
        public static void main(String[] args){
            ITV tv = new SonyTV();
            LogitechRemoteControl lrc = new LogitechRemoteControl(tv);
            lrc.setChannelKeyboard(100);    
        }
    }
    
输出如下:

    Sony: channel – 100
    Logitech use keyword to set channel.
    
## 总结

桥接模式允许两层实现的抽象，上面的电视机和遥控器就是很好的例子。可见，桥接模式提供了更多的灵活性。